<div class='displayAtMediumBreakpoints'>
  <div class="row mt-3 mb-1">
    <div class="col d-flex justify-content-center align-self-center backgroundDisplay">
      <div class='displaySightings'>
        <h1>Popular Podcasts Series</h1>
      </div>
    </div>
  </div>

  <div id="popularSeriesCarouselMedium" class="carousel slide mt-5" data-interval="false" data-ride="carousel">
<!-- To display only 3 pictures in medium screens -->
  <div class="carousel-inner">
  <% let i = 0 %>
  <% while(i < series.length) { %>
  <% if( i + 3 > series.length) { %>    
  <div class="carousel-item carouselDiv">
    <div class="d-flex justify-content-center">
      <div class="card-deck pt-3">
        <div class = "row d-flex flex-row flex-nowrap overflow-auto">      
          <% for(let k = i; k < series.length; k += 1) { %>
            <div class = "col">            
              <div class="card cardSize">
                <form class= "artworkDisplay d-flex justify-content-center"      
                  <% if(series[k].artwork_filename) { %>
                  style="background-image:url(<%=series[k].artwork_filename%>)"
                  <% } %>
                  action ='/'> 
                      <img class="card-img-top w-auto">
                    <a href="/series/<%=series[k].id%>" role="button" class="btn btn-primary mx-auto" type="submit">View</a>                  
                </form>
                <div class="card-body">
                  <h5 class="card-title"><%=series[k].name%></h5>
                  <p class="card-text"><%= truncateDescription(series[k].description)%></p>
                </div>
              </div>
            </div>
          <% } %> 
          </div> 
        </div>      
      </div> 
    </div>                                 
  <% break; %>  
  <% } else if (i + 3 <= series.length) { %>
  <% i += 3 %>
  <div class="carousel-item carouselDiv
  <% if (i===3) {%>
    active
  <% } %>
  ">
    <div class="d-flex justify-content-center">
      <div class="card-deck pt-3">
        <div class = "row d-flex flex-row flex-nowrap overflow-auto">                     
          <% for(let k = i - 3; k < i; k += 1){ %>
            <div class = "col">
              <!-- Item one-->
              <div class="card cardSize">
                <form class= "artworkDisplay d-flex justify-content-center"      
                  <% if(series[k].artwork_filename) { %>
                  style="background-image:url(<%=series[k].artwork_filename%>)"
                  <% } %>
                  action ='/'> 
                      <img class="card-img-top w-auto">
                    <a href="/series/<%=series[k].id%>" role="button" class="btn btn-primary mx-auto" type="submit">View</a>                  
                </form>
                <div class="card-body">
                  <h5 class="card-title"><%=series[k].name%></h5>
                  <p class="card-text"><%= truncateDescription(series[k].description)%></p>
                </div>
              </div>
            </div>
            <% } %>
          </div> 
        </div>      
      </div> 
    </div>                      
    <% } %>                             
  <% } %> 
  </div> 

    <div>
      <a class="carousel-newControl-prev align-items-start alignPrevRight" href="#popularSeriesCarouselMedium" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon bg-dark" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-newControl-next align-items-start" href="#popularSeriesCarouselMedium" role="button" data-slide="next">
        <span class="carousel-control-next-icon bg-dark" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </div>
</div>